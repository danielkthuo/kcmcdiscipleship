<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Progress Dashboard - Pathlight Curriculum</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --light-color: #ecf0f1;
            --font-main: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-main);
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-bottom: 2rem;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .header-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .tagline {
            font-style: italic;
            margin-bottom: 1rem;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }
        
        .progress-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .section-title {
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .module-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid var(--secondary-color);
            transition: all 0.3s ease;
        }
        
        .module-card.completed {
            border-left-color: var(--success-color);
            background: #f0f9f0;
        }
        
        .module-card.in-progress {
            border-left-color: var(--warning-color);
            background: #fff9e6;
        }
        
        .module-card:hover {
            transform: translateX(5px);
        }
        
        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .module-title {
            font-weight: 600;
            color: var(--primary-color);
            font-size: 1.1rem;
        }
        
        .module-progress {
            font-weight: bold;
            color: var(--secondary-color);
        }
        
        .module-progress.completed {
            color: var(--success-color);
        }
        
        .progress-bar-container {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary-color), var(--primary-color));
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        .progress-bar.completed {
            background: linear-gradient(90deg, var(--success-color), #27ae60);
        }
        
        .module-details {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: #666;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: var(--primary-color);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--secondary-color);
            color: var(--secondary-color);
        }
        
        .btn-outline:hover {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .btn-success {
            background-color: var(--success-color);
        }
        
        .btn-success:hover {
            background-color: #27ae60;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }
        
        .empty-state i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #ddd;
        }
        
        .achievement-badge {
            display: inline-flex;
            align-items: center;
            background: #e8f4fc;
            border-radius: 20px;
            padding: 8px 15px;
            margin: 5px;
            font-size: 0.85rem;
        }
        
        .achievement-badge.unlocked {
            background: #e8f6f3;
            border: 2px solid var(--success-color);
        }
        
        .badge-icon {
            margin-right: 8px;
            color: var(--secondary-color);
        }
        
        .achievement-badge.unlocked .badge-icon {
            color: var(--success-color);
        }
        
        .lesson-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1.5rem;
            background-color: var(--primary-color);
            color: white;
            border-radius: 12px;
        }

        /* Sync status indicator */
        .sync-status {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(255,255,255,0.9);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .sync-status.syncing {
            color: #f39c12;
        }
        
        .sync-status.synced {
            color: var(--success-color);
        }
        
        .sync-status.error {
            color: var(--accent-color);
        }
        
        @media (max-width: 768px) {
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .lesson-nav {
                flex-direction: column;
                gap: 1rem;
            }
            
            .module-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .module-progress {
                margin-top: 5px;
            }
        }
        /* WhatsApp Button Styles */
        
.whatsapp-btn {
  background-color: #25d366;
  color: #fff !important;
  border: none;
  border-radius: 20px;
  padding: 5px 12px; /* Smaller button */
  font-size: 13px; /* Smaller font */
  text-decoration: none;
  transition: background 0.3s;
}
.whatsapp-btn:hover {
  background-color: #1ebe5b;
  color: #fff;
}
    </style>
</head>
<body>
        <div class="d-flex ms-auto align-items-center">
      <a class="whatsapp-btn" href="https://wa.me/254789398881" target="_blank">
        üí¨ Ask Questions
      </a>
    </div>
    <!-- Sync Status Indicator -->
    <div class="sync-status" id="syncStatus">
        <span id="syncText">Checking sync...</span>
        <i class="bi bi-arrow-repeat" id="syncIcon"></i>
    </div>
    
    <header>
        <div class="header-content">
            <h1>Progress Dashboard</h1>
            <p class="tagline">Track your discipleship journey</p>
            <p>See how far you've come and what's next in your Pathlight journey</p>
        </div>
    </header>
    
    <div class="container">
        <!-- Overall Statistics -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--secondary-color);">üìö</div>
                <div class="stat-value" id="totalModules">0</div>
                <div class="stat-label">Total Modules</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--success-color);">‚úÖ</div>
                <div class="stat-value" id="completedModules">0</div>
                <div class="stat-label">Completed Modules</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--warning-color);">‚è±Ô∏è</div>
                <div class="stat-value" id="inProgressModules">0</div>
                <div class="stat-label">In Progress</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--primary-color);">üìä</div>
                <div class="stat-value" id="overallProgress">0%</div>
                <div class="stat-label">Overall Progress</div>
            </div>
        </div>
        
        <!-- Current Progress Section -->
        <div class="progress-section">
            <div class="section-title">
                <h2>Your Learning Journey</h2>
                <span id="lastUpdated">Last updated: Just now</span>
            </div>
            
            <div id="modulesContainer">
                <!-- Modules will be dynamically inserted here -->
            </div>
            
            <div id="emptyState" class="empty-state" style="display: none;">
                <i class="bi bi-journal-text"></i>
                <h3>No progress yet</h3>
                <p>Start your discipleship journey by exploring the modules</p>
                <a href="index.html" class="btn" style="margin-top: 15px;">Browse Modules</a>
            </div>
        </div>
        
        <!-- Achievements Section -->
        <div class="progress-section">
            <div class="section-title">
                <h2>Achievements & Milestones</h2>
            </div>
            
            <div id="achievementsContainer">
                <!-- Achievements will be dynamically inserted here -->
            </div>
            
            <div id="noAchievements" class="empty-state">
                <i class="bi bi-trophy"></i>
                <h3>No achievements yet</h3>
                <p>Complete modules to unlock achievements</p>
            </div>
        </div>
        
        <!-- Recommendations Section -->
        <div class="progress-section">
            <div class="section-title">
                <h2>Recommended Next Steps</h2>
            </div>
            
            <div id="recommendationsContainer">
                <!-- Recommendations will be dynamically inserted here -->
            </div>
        </div>
        
        <div class="lesson-nav">
            <button id="logoutBtn" class="btn btn-danger">Logout</button>
            <button class="btn" id="exportProgress">Export Progress</button>
            <button class="btn btn-success" id="refreshProgress">Refresh Progress</button>
            <button class="btn" id="syncProgress">Sync Progress</button>
        </div>



<script>
document.getElementById("logoutBtn").addEventListener("click", function() {
    // Clear stored login data
    localStorage.clear();
    sessionStorage.clear();

    // Redirect to login page
    window.location.href = "login.html";
});
</script>


    </div>
    
    <footer>
        <p>Pathlight Discipleship Curriculum &copy; 2023 | KCMC</p>
        <p>Lit to Lead. Rooted to Grow.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Module definitions
            const modules = [
                {
                    id: 'lesson1',
                    title: 'Lesson 1: Foundation to New Believers',
                    description: 'Understanding the foundational truths of Christianity',
                    topics: ['The Five Assurances', 'Clear Understanding of the Gospel', 'Wheel Illustration', 'How to Read the Bible Together'],
                    link: 'module-lesson1.html'
                },
                {
                    id: 'lesson2',
                    title: 'Lesson 2: Prayer and Fellowship',
                    description: 'Developing a strong prayer life and Christian fellowship',
                    topics: ['Prayer - ACTS Method & Prayer Hand', 'Fellowship - Importance & Characteristics'],
                    link: 'module-lesson2.html'
                },
                {
                    id: 'lesson3',
                    title: 'Lesson 3: Lordship',
                    description: 'Making Jesus Lord of your life',
                    topics: ['Cost of Discipleship', 'Submission - Areas of Struggle', 'My Heart, Christ\'s Home'],
                    link: 'module-lesson3.html'
                },
                {
                    id: 'lesson4',
                    title: 'Lesson 4: Doctrine',
                    description: 'Essential Christian teachings for a solid theological foundation',
                    topics: ['The Doctrine of Jesus (Christology)', 'The Doctrine of Holy Spirit (Pneumatology)', 'The Doctrine of Baptism', 'The Doctrine of Identity in Christ'],
                    link: 'module-lesson4.html'
                },
                {
                    id: 'lesson5',
                    title: 'Lesson 5: Witnessing and Spiritual Warfare',
                    description: 'Sharing your faith and engaging in spiritual warfare',
                    topics: ['The Call to Witness', 'Gifting', 'Spiritual Warfare'],
                    link: 'module-lesson5.html'
                },
                {
                    id: 'lesson6',
                    title: 'Lesson 6: Spiritual Gifts',
                    description: 'Discovering and using your spiritual gifts',
                    topics: ['Spiritual Gifts Survey'],
                    link: 'gifts.html'
                }
            ];
            
            // Initialize dashboard
            updateDashboard();
            
            // Set up auto-refresh every 30 seconds
            setInterval(updateDashboard, 30000);
            
            // Export progress functionality
            document.getElementById('exportProgress').addEventListener('click', function(e) {
                e.preventDefault();
                exportProgress();
            });
            
            // Refresh progress manually
            document.getElementById('refreshProgress').addEventListener('click', function() {
                updateDashboard();
                showNotification('Progress refreshed!', 'success');
            });
            
            // Sync progress functionality
            document.getElementById('syncProgress').addEventListener('click', function() {
                syncProgress();
            });
            
            function updateDashboard() {
                let totalProgress = 0;
                let completedModules = 0;
                let inProgressModules = 0;
                let modulesWithProgress = 0;
                
                const modulesContainer = document.getElementById('modulesContainer');
                modulesContainer.innerHTML = '';
                
                modules.forEach(module => {
                    const progress = getModuleProgress(module.id);
                    console.log(`Module ${module.id} progress:`, progress); // Debug log
                    
                    // Fix NaN issue by ensuring progress is a number
                    const progressValue = isNaN(progress) ? 0 : Math.min(100, Math.max(0, progress));
                    totalProgress += progressValue;
                    
                    if (progressValue > 0) modulesWithProgress++;
                    if (progressValue >= 90) completedModules++;
                    else if (progressValue > 0) inProgressModules++;
                    
                    // Determine card styling based on progress
                    const cardClass = progressValue >= 90 ? 'module-card completed' : 
                                     progressValue > 0 ? 'module-card in-progress' : 'module-card';
                    const progressClass = progressValue >= 90 ? 'module-progress completed' : 'module-progress';
                    const barClass = progressValue >= 90 ? 'progress-bar completed' : 'progress-bar';
                    
                    // Create module card
                    const moduleCard = document.createElement('div');
                    moduleCard.className = cardClass;
                    moduleCard.innerHTML = `
                        <div class="module-header">
                            <div class="module-title">${module.title}</div>
                            <div class="${progressClass}">${progressValue}%</div>
                        </div>
                        <p style="font-size: 0.9rem; color: #666; margin-bottom: 10px;">${module.description}</p>
                        <div class="progress-bar-container">
                            <div class="${barClass}" style="width: ${progressValue}%"></div>
                        </div>
                        <div class="module-details">
                            <span>${getProgressStatus(progressValue)}</span>
                            <a href="${module.link}" class="btn" style="padding: 5px 10px; font-size: 0.8rem;">
                                ${progressValue >= 90 ? 'Review' : progressValue > 0 ? 'Continue' : 'Start'}
                            </a>
                        </div>
                    `;
                    
                    modulesContainer.appendChild(moduleCard);
                });
                
                // Update statistics - FIXED NaN issue
                document.getElementById('totalModules').textContent = modules.length;
                document.getElementById('completedModules').textContent = completedModules;
                document.getElementById('inProgressModules').textContent = inProgressModules;
                
                // Calculate overall progress safely
                const overallProgress = modules.length > 0 ? Math.round(totalProgress / modules.length) : 0;
                document.getElementById('overallProgress').textContent = `${overallProgress}%`;
                
                // Update last updated time
                document.getElementById('lastUpdated').textContent = `Last updated: ${new Date().toLocaleTimeString()}`;
                
                // Show/hide empty state
                document.getElementById('emptyState').style.display = modulesWithProgress > 0 ? 'none' : 'block';
                
                // Update achievements - FIXED badge issue
                updateAchievements(completedModules, overallProgress);
                
                // Update recommendations
                updateRecommendations(modules, completedModules, inProgressModules);
            }
            
            function getModuleProgress(moduleId) {
                // Get progress from localStorage with proper parsing
                try {
                    // Try multiple possible storage formats for each lesson
                    let progress = localStorage.getItem(`${moduleId}Progress`);
                    
                    // If not found, try the lesson data format
                    if (progress === null || progress === undefined) {
                        progress = localStorage.getItem(`${moduleId}Data`);
                    }
                    
                    console.log(`Raw progress for ${moduleId}:`, progress); // Debug log
                    
                    if (progress === null || progress === undefined) {
                        return 0;
                    }
                    
                    // Handle different storage formats
                    if (typeof progress === 'string') {
                        // Try to parse as JSON first (for object-based progress)
                        try {
                            const progressData = JSON.parse(progress);
                            
                            // Handle different data structures
                            if (typeof progressData === 'object') {
                                // Format 1: Array of topics with completion status
                                if (Array.isArray(progressData)) {
                                    const completed = progressData.filter(topic => topic.completed).length;
                                    const total = progressData.length;
                                    return total > 0 ? Math.round((completed / total) * 100) : 0;
                                }
                                // Format 2: Object with completions and responses
                                else if (progressData.completions) {
                                    const completedTopics = Object.values(progressData.completions).filter(status => status).length;
                                    const totalTopics = Object.keys(progressData.completions).length;
                                    return totalTopics > 0 ? Math.round((completedTopics / totalTopics) * 100) : 0;
                                }
                                // Format 3: Object with progress percentage
                                else if (progressData.progress !== undefined) {
                                    return progressData.progress;
                                }
                            }
                        } catch (e) {
                            // If not JSON, try to parse as number
                            const parsed = parseInt(progress);
                            return isNaN(parsed) ? 0 : parsed;
                        }
                    }
                    
                    // Default fallback
                    return 0;
                } catch (error) {
                    console.error('Error getting progress for', moduleId, error);
                    return 0;
                }
            }
            
            function getProgressStatus(progress) {
                if (progress === 0) return 'Not started';
                if (progress < 30) return 'Just beginning';
                if (progress < 70) return 'In progress';
                if (progress < 90) return 'Almost done';
                return 'Completed';
            }
            
            function updateAchievements(completedModules, overallProgress) {
                const achievementsContainer = document.getElementById('achievementsContainer');
                achievementsContainer.innerHTML = '';
                
                const achievements = [];
                
                // Check for achievements - FIXED: Now properly checks completed modules
                console.log('Checking achievements - completed:', completedModules, 'overall:', overallProgress);
                
                if (completedModules >= 1) {
                    achievements.push({
                        icon: 'üéØ',
                        title: 'First Steps',
                        description: 'Completed your first module',
                        unlocked: completedModules >= 1
                    });
                }
                
                if (completedModules >= 3) {
                    achievements.push({
                        icon: 'üìñ',
                        title: 'Dedicated Learner',
                        description: 'Completed 3 modules',
                        unlocked: completedModules >= 3
                    });
                }
                
                if (completedModules >= modules.length) {
                    achievements.push({
                        icon: 'üèÜ',
                        title: 'Pathlight Graduate',
                        description: 'Completed all modules',
                        unlocked: completedModules >= modules.length
                    });
                }
                
                if (overallProgress >= 50) {
                    achievements.push({
                        icon: '‚≠ê',
                        title: 'Halfway There',
                        description: 'Reached 50% overall progress',
                        unlocked: overallProgress >= 50
                    });
                }
                
                // Display achievements
                achievements.forEach(achievement => {
                    const badgeClass = achievement.unlocked ? 'achievement-badge unlocked' : 'achievement-badge';
                    const badge = document.createElement('div');
                    badge.className = badgeClass;
                    badge.innerHTML = `
                        <span class="badge-icon">${achievement.icon}</span>
                        <div>
                            <div style="font-weight: bold;">${achievement.title}</div>
                            <div style="font-size: 0.75rem;">${achievement.description}</div>
                        </div>
                    `;
                    achievementsContainer.appendChild(badge);
                });
                
                // Show/hide no achievements message
                document.getElementById('noAchievements').style.display = achievements.length > 0 ? 'none' : 'block';
                
                console.log('Achievements found:', achievements.length);
            }
            
            function updateRecommendations(modules, completedModules, inProgressModules) {
                const recommendationsContainer = document.getElementById('recommendationsContainer');
                recommendationsContainer.innerHTML = '';
                
                let recommendations = [];
                
                // If no modules completed, recommend starting with Lesson 1
                if (completedModules === 0 && inProgressModules === 0) {
                    recommendations.push({
                        module: modules[0],
                        reason: 'Start your discipleship journey with the foundations'
                    });
                } else {
                    // Find next incomplete module
                    for (let i = 0; i < modules.length; i++) {
                        const progress = getModuleProgress(modules[i].id);
                        if (progress < 90) {
                            recommendations.push({
                                module: modules[i],
                                reason: progress > 0 ? 'Continue where you left off' : 'Your next step in the curriculum'
                            });
                            break;
                        }
                    }
                }
                
                // If all modules are completed, suggest review
                if (completedModules === modules.length) {
                    recommendations = [{
                        module: modules[0],
                        reason: 'Review foundational teachings to strengthen your understanding'
                    }];
                }
                
                // Display recommendations
                recommendations.forEach(rec => {
                    const progress = getModuleProgress(rec.module.id);
                    const progressValue = isNaN(progress) ? 0 : progress;
                    const cardClass = progressValue >= 90 ? 'module-card completed' : 
                                     progressValue > 0 ? 'module-card in-progress' : 'module-card';
                    const progressClass = progressValue >= 90 ? 'module-progress completed' : 'module-progress';
                    const barClass = progressValue >= 90 ? 'progress-bar completed' : 'progress-bar';
                    
                    const card = document.createElement('div');
                    card.className = cardClass;
                    card.innerHTML = `
                        <div class="module-header">
                            <div class="module-title">${rec.module.title}</div>
                            <div class="${progressClass}">${progressValue}%</div>
                        </div>
                        <p style="font-size: 0.9rem; color: #666; margin-bottom: 10px;">${rec.reason}</p>
                        <div class="progress-bar-container">
                            <div class="${barClass}" style="width: ${progressValue}%"></div>
                        </div>
                        <div class="module-details">
                            <span>${getProgressStatus(progressValue)}</span>
                            <a href="${rec.module.link}" class="btn" style="padding: 5px 10px; font-size: 0.8rem;">
                                ${progressValue >= 90 ? 'Review' : progressValue > 0 ? 'Continue' : 'Start'}
                            </a>
                        </div>
                    `;
                    recommendationsContainer.appendChild(card);
                });
            }
            
            function exportProgress() {
                let exportData = {
                    timestamp: new Date().toISOString(),
                    overallProgress: document.getElementById('overallProgress').textContent,
                    modules: []
                };
                
                modules.forEach(module => {
                    const progress = getModuleProgress(module.id);
                    exportData.modules.push({
                        title: module.title,
                        progress: `${progress}%`,
                        status: getProgressStatus(progress)
                    });
                });
                
                // Create and download JSON file
                const dataStr = JSON.stringify(exportData, null, 2);
                const dataBlob = new Blob([dataStr], {type: 'application/json'});
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `pathlight-progress-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                // Show success message
                showNotification('Progress exported successfully!', 'success');
            }
            
            function syncProgress() {
                const syncStatus = document.getElementById('syncStatus');
                const syncText = document.getElementById('syncText');
                const syncIcon = document.getElementById('syncIcon');
                
                // Update sync status
                syncText.textContent = 'Syncing...';
                syncStatus.className = 'sync-status syncing';
                syncIcon.className = 'bi bi-arrow-repeat';
                
                // Simulate sync process
                setTimeout(() => {
                    // In a real implementation, this would sync with a server
                    // For now, we'll just update the dashboard
                    updateDashboard();
                    
                    syncText.textContent = 'Synced';
                    syncStatus.className = 'sync-status synced';
                    syncIcon.className = 'bi bi-check-circle-fill';
                    
                    showNotification('Progress synced successfully!', 'success');
                    
                    // Reset sync status after 3 seconds
                    setTimeout(() => {
                        syncText.textContent = 'Online';
                        syncStatus.className = 'sync-status';
                        syncIcon.className = 'bi bi-wifi';
                    }, 3000);
                }, 1500);
            }
            
            function showNotification(message, type) {
                // Create notification element
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${type === 'success' ? 'var(--success-color)' : 'var(--secondary-color)'};
                    color: white;
                    padding: 15px 20px;
                    border-radius: 5px;
                    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
                    z-index: 1000;
                    transition: all 0.3s ease;
                `;
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                // Remove after 3 seconds
                setTimeout(() => {
                    notification.style.opacity = '0';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 3000);
            }
            
            // Initialize sync status
            updateSyncStatus();
            
            function updateSyncStatus() {
                const syncStatus = document.getElementById('syncStatus');
                const syncText = document.getElementById('syncText');
                const syncIcon = document.getElementById('syncIcon');
                
                if (navigator.onLine) {
                    syncText.textContent = 'Online';
                    syncStatus.className = 'sync-status';
                    syncIcon.className = 'bi bi-wifi';
                } else {
                    syncText.textContent = 'Offline';
                    syncStatus.className = 'sync-status error';
                    syncIcon.className = 'bi bi-wifi-off';
                }
            }
            
            // Listen for online/offline events
            window.addEventListener('online', updateSyncStatus);
            window.addEventListener('offline', updateSyncStatus);
        });
    </script>
    <script type="module" src="auth-check.js"></script>
</body>
</html>