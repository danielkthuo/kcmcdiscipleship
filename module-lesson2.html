<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FOUNDATION TO NEW BELIEVERS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Add Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --font-main: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            --success-color: #2ecc71;
            --prayer-color: #9c27b0;
            --fellowship-color: #e67e22;
            --gospel-color: #27ae60;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-main);
            line-height: 1.6;
            color: #333;
            background-color: #f9f9f9;
            padding-bottom: 80px; /* Space for bottom nav */
            -webkit-text-size-adjust: 100%; /* Prevent font scaling in landscape */
        }
        
        .container {
            width: 100%;
            margin: 0 auto;
            padding: 15px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem 0;
            text-align: center;
            margin-bottom: 1.5rem;
            position: relative;
            width: 100%;
        }
        
        .progress-container {
            width: 100%;
            background-color: rgba(255,255,255,0.2);
            height: 6px;
            position: absolute;
            bottom: 0;
            left: 0;
        }
        
        .progress-bar {
            height: 100%;
            background-color: var(--accent-color);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .header-content {
            width: 100%;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        h1 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }
        
        .lesson-nav {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            gap: 10px;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            text-align: center;
            flex: 1;
            min-height: 48px; /* Minimum touch target size */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn:hover, .btn:active {
            background-color: var(--primary-color);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--secondary-color);
            color: var(--secondary-color);
        }
        
        .btn-outline:hover, .btn-outline:active {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .btn-prayer {
            background-color: var(--prayer-color);
        }
        
        .btn-fellowship {
            background-color: var(--fellowship-color);
        }
        
        .btn-gospel {
            background-color: var(--gospel-color);
        }
        
        .topic {
            background-color: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
            width: 100%;
        }
        
        .topic h2 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
            font-size: 1.4rem;
        }
        
        .topic-completion {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: 2px solid #ddd;
            background-color: white;
            cursor: pointer;
            min-height: 44px; /* Minimum touch target size */
            min-width: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .topic-completed {
            background-color: var(--success-color);
            border-color: var(--success-color);
        }
        
        .topic-completed::after {
            content: "‚úì";
            color: white;
            font-weight: bold;
        }
        
        .scripture {
            background-color: #f8f9fa;
            border-left: 4px solid var(--secondary-color);
            padding: 1rem;
            margin: 1rem 0;
            font-style: italic;
            border-radius: 0 8px 8px 0;
        }
        
        .key-point {
            background-color: #e8f4fc;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            position: relative;
        }
        
        .key-point h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .activity {
            background-color: #fff8e1;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #ffc107;
        }
        
        .activity h4 {
            color: #e65100;
            margin-bottom: 0.5rem;
        }
        
        .prayer-method {
            background-color: #f3e5f5;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            border-left: 4px solid var(--prayer-color);
        }
        
        .prayer-method h4 {
            color: var(--prayer-color);
            margin-bottom: 1rem;
        }
        
        .gospel-section {
            background-color: #e8f5e9;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            border-left: 4px solid var(--gospel-color);
        }
        
        .gospel-section h4 {
            color: var(--gospel-color);
            margin-bottom: 1rem;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            display: block;
            overflow-x: auto;
            white-space: nowrap;
        }
        
        .comparison-table th, .comparison-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        .comparison-table th {
            background-color: var(--primary-color);
            color: white;
        }
        
        .comparison-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        .interactive-element {
            background-color: #f8f9fa;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: center;
            width: 100%;
        }
        
        .prayer-journal {
            background-color: #f0f7ff;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            width: 100%;
        }
        
        .prayer-journal h4 {
            color: #1c7ed6;
            margin-bottom: 1rem;
        }
        
        .prayer-journal textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: inherit;
            margin-bottom: 10px;
            font-size: 16px; /* Prevent zoom on iOS */
        }
        
        .prayer-timer {
            background-color: #e8f5e9;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: center;
            width: 100%;
        }
        
        .timer-display {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 1rem 0;
        }
        
        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        .timer-controls .btn {
            flex: 0 1 auto;
            min-width: 80px;
        }
        
        .fellowship-map {
            background-color: #fff3e0;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            width: 100%;
        }
        
        .fellowship-map h4 {
            color: var(--fellowship-color);
            margin-bottom: 1rem;
        }
        
        .map-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 15px;
        }
        
        .map-category {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            width: 100%;
        }
        
        .map-category h5 {
            color: var(--primary-color);
            margin-bottom: 10px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        
        .map-item {
            background: #f9f9f9;
            border-radius: 6px;
            padding: 10px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .map-item input {
            flex: 1;
            border: none;
            background: transparent;
            padding: 8px;
            font-size: 16px; /* Prevent zoom on iOS */
        }
        
        .add-item {
            background: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 12px;
            cursor: pointer;
            margin-top: 10px;
            min-height: 44px; /* Minimum touch target size */
        }
        
        .reflection {
            background-color: #f0f7ff;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #4dabf7;
        }
        
        .reflection h4 {
            color: #1c7ed6;
            margin-bottom: 0.5rem;
        }
        
        .reflection textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
            margin-top: 10px;
            font-size: 16px; /* Prevent zoom on iOS */
        }
        
        /* Bridge Illustration Styles */
        .bridge-container {
            background-color: #f8f9fa;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            position: relative;
            width: 100%;
        }
        
        .bridge-illustration {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }
        
        .bridge-sides {
            display: flex;
            flex-direction: column;
            width: 100%;
            margin-bottom: 20px;
            gap: 15px;
        }
        
        .bridge-side {
            width: 100%;
            text-align: center;
            padding: 15px;
            border-radius: 8px;
        }
        
        .god-side {
            background-color: #e1f5fe;
            border: 2px solid #4fc3f7;
        }
        
        .man-side {
            background-color: #ffebee;
            border: 2px solid #e57373;
        }
        
        .bridge-gap {
            width: 100%;
            height: 50px;
            background: linear-gradient(to bottom, #ff8a65, #d84315);
            border-radius: 5px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .bridge-cross {
            width: 100%;
            height: 70px;
            position: relative;
            margin: 20px 0;
        }
        
        .cross-vertical {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 100%;
            background-color: #8d6e63;
            border-radius: 5px;
        }
        
        .cross-horizontal {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            height: 8px;
            background-color: #8d6e63;
            border-radius: 5px;
        }
        
        .cross-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
            color: #5d4037;
        }
        
        .bridge-steps {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 20px;
        }
        
        .bridge-step {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            width: 100%;
        }
        
        .bridge-step h5 {
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .bridge-step h5 span {
            display: inline-block;
            width: 24px;
            height: 24px;
            background-color: var(--secondary-color);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            margin-right: 8px;
        }
        
        .gospel-verse-card {
            background-color: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-left: 4px solid var(--gospel-color);
            width: 100%;
        }
        
        .gospel-verse-card h4 {
            color: var(--gospel-color);
            margin-bottom: 0.5rem;
        }
        
        /* Collapsible with scrollable content */
        .collapsible {
            background-color: #f1f1f1;
            color: var(--primary-color);
            cursor: pointer;
            padding: 15px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 8px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 48px; /* Minimum touch target size */
            transition: background-color 0.3s ease;
        }
        
        .collapsible:hover {
            background-color: #e1e1e1;
        }
        
        .collapsible:after {
            content: '\002B';
            font-weight: bold;
            float: right;
            transition: transform 0.3s ease;
        }
        
        .collapsible.active:after {
            content: "\2212";
            transform: rotate(180deg);
        }
        
        .content {
            padding: 0 15px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background-color: white;
            border-radius: 0 0 8px 8px;
        }
        
        /* Scrollable content when expanded */
        .content.scrollable {
            max-height: 400px; /* Set a maximum height for scrollable sections */
            overflow-y: auto; /* Enable vertical scrolling */
            padding: 15px;
            border: 1px solid #e1e1e1;
            border-top: none;
        }
        
        /* Custom scrollbar for content */
        .content.scrollable::-webkit-scrollbar {
            width: 8px;
        }
        
        .content.scrollable::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        .content.scrollable::-webkit-scrollbar-thumb {
            background: var(--secondary-color);
            border-radius: 4px;
        }
        
        .content.scrollable::-webkit-scrollbar-thumb:hover {
            background: var(--primary-color);
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: white;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            z-index: 100;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #666;
            font-size: 0.8rem;
            padding: 5px 10px;
            border-radius: 5px;
            transition: all 0.3s ease;
            min-height: 48px; /* Minimum touch target size */
            justify-content: center;
        }
        
        .nav-item.active {
            color: var(--secondary-color);
            background-color: #e8f4fc;
        }
        
        .nav-icon {
            font-size: 1.2rem;
            margin-bottom: 3px;
        }
        
        footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1.5rem;
            background-color: var(--dark-color);
            color: white;
            border-radius: 12px;
            width: 100%;
        }
        
        /* Prayer Hand Styles */
        .prayer-hand {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }
        
        .hand-fingers {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 20px;
            gap: 10px;
        }
        
        .finger {
            width: 70px;
            height: 100px;
            background-color: #f5d7b4;
            border-radius: 35px 35px 0 0;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .finger-label {
            position: absolute;
            bottom: -30px;
            font-weight: bold;
            font-size: 0.8rem;
            text-align: center;
            width: 100px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .finger-content {
            margin-top: 40px;
            text-align: center;
        }
        
        .finger-item {
            margin-bottom: 15px;
        }
        
        /* Day in Prayer Styles */
        .prayer-day-schedule {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }
        
        .prayer-time-slot {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-left: 4px solid var(--prayer-color);
            width: 100%;
        }
        
        .prayer-time-slot h5 {
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        /* Fellowship Map Styles */
        .fellowship-map-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .fellowship-map-circle {
            width: 280px;
            height: 280px;
            border: 2px solid var(--fellowship-color);
            border-radius: 50%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .fellowship-center {
            width: 70px;
            height: 70px;
            background-color: var(--fellowship-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            z-index: 10;
        }
        
        .fellowship-category {
            position: absolute;
            width: 100px;
            text-align: center;
        }
        
        .fellowship-mentors {
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .fellowship-peers {
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .fellowship-mentees {
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
        }
        
        .fellowship-others {
            top: 50%;
            left: 20px;
            transform: translateY(-50%);
        }
        
        /* Wheel Illustration Styles */
        .wheel-container {
            text-align: center;
            margin: 20px 0;
        }
        
        .wheel-illustration {
            position: relative;
            width: 280px;
            height: 280px;
            margin: 0 auto;
        }
        
        .wheel-rim {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 8px solid #3498db;
            border-radius: 50%;
        }
        
        .wheel-hub {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            background-color: #e74c3c;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            z-index: 10;
        }
        
        .spoke-label, .rim-label {
            background: white;
            padding: 5px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        /* Assessment Sliders */
        .assessment-item {
            margin-bottom: 15px;
        }
        
        .assessment-item label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .slider {
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            appearance: none;
            -webkit-appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--secondary-color);
            cursor: pointer;
        }

        /* Enhanced Progress Tracking Styles */
        .enhanced-progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .enhanced-progress-bar {
            height: 20px;
            background: linear-gradient(90deg, var(--secondary-color), var(--primary-color));
            width: 0%;
            border-radius: 10px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 14px;
            color: #666;
        }
        
        /* Auto-save notification */
        .save-notification {
            position: fixed;
            bottom: 70px;
            right: 15px;
            background-color: var(--success-color);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
            font-size: 0.9rem;
        }
        
        .save-notification.show {
            opacity: 1;
        }
        
        /* Sync status styles */
        .sync-status {
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            z-index: 1000;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            max-width: 200px;
        }
        
        .sync-status.online {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        
        .sync-status.offline {
            background: #fff3cd;
            border-color: #ffeaa7;
            color: #856404;
        }
        
        .sync-status.error {
            background: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        
        .sync-status.syncing {
            background: #cce7ff;
            border-color: #b3d9ff;
            color: #004085;
        }
        
        /* Manual sync button */
        #manualSync {
            position: fixed;
            bottom: 70px;
            right: 15px;
            background: var(--secondary-color, #3498db);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            font-size: 1.2rem;
        }
        
        /* Mobile-specific improvements */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            header {
                padding: 1rem 0;
                margin-bottom: 1rem;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            .topic {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            
            .topic h2 {
                font-size: 1.2rem;
            }
            
            .btn {
                padding: 14px 16px;
                font-size: 0.9rem;
            }
            
            .timer-display {
                font-size: 2rem;
            }
            
            .fellowship-map-circle {
                width: 250px;
                height: 250px;
            }
            
            .finger {
                width: 60px;
                height: 90px;
            }
            
            .wheel-illustration {
                width: 250px;
                height: 250px;
            }
            
            .wheel-hub {
                width: 60px;
                height: 60px;
                font-size: 0.9rem;
            }
            
            /* Adjust scrollable content height for mobile */
            .content.scrollable {
                max-height: 300px;
            }
            
            .save-notification {
                bottom: 60px;
                right: 10px;
                left: 10px;
                text-align: center;
            }
            
            .sync-status {
                top: 5px;
                right: 5px;
                left: 5px;
                max-width: none;
                text-align: center;
            }
            
            .progress-info {
                flex-direction: column;
                gap: 5px;
            }
        }
        
        @media (min-width: 769px) {
            .container {
                max-width: 100%;
            }
            
            .map-container, .bridge-steps, .prayer-day-schedule {
                flex-direction: row;
            }
            
            .bridge-sides {
                flex-direction: row;
            }
            
            .bridge-side {
                width: 48%;
            }
            
            /* Adjust scrollable content height for larger screens */
            .content.scrollable {
                max-height: 500px;
            }
        }
        
        /* Prevent horizontal scrolling */
        html, body {
            max-width: 100%;
            overflow-x: hidden;
        }
        
        /* Improve touch interactions */
        button, .btn, .nav-item, .topic-completion {
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        /* Improve text readability on mobile */
        p, li, td, th {
            font-size: 16px;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>MODULE 2: FOUNDATION TO NEW BELIEVERS</h1>
            <p>Discipleship Growth Topics-Clear Understanding of the Gospel, Prayer, Fellowship, and the Wheel Illustration (Spiritual Growth Wheel)</p>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
    </header>
    
    <div class="container">
        <!-- Enhanced Progress Bar -->
        <div class="enhanced-progress-container">
            <div class="enhanced-progress-bar" id="enhancedProgressBar">0%</div>
        </div>
        <div class="progress-info">
            <span>Progress: <span id="progressText">0%</span></span>
            <span>Last saved: <span id="lastSaved">Not saved yet</span></span>
        </div>
        
        <div class="lesson-nav">
            <a href="module-lesson1.html" class="btn btn-outline">Previous Lesson</a>
            <a href="index.html" class="btn btn-outline">Back to Main</a>
            <a href="module-lesson3.html" class="btn">Next Lesson</a>
        </div>
        
        <div class="key-point">
            <p>
                These key discipleship topics form the foundation of a believer's journey ‚Äî helping every Christian build a
                strong relationship with God, connect deeply with others, and live out their faith daily.
            </p>
        </div>
        
        <!-- Topic 1: Prayer -->
        <div class="topic" id="topic1">
            <div class="topic-completion" id="topic1Completion"></div>
            <h2>Topic 1: Prayer</h2>
            
            <!-- ACTS Prayer Method Collapsible -->
            <button class="collapsible">ACTS Prayer Method</button>
            <div class="content scrollable">
                <div class="topic-section">
                    <h3 class="text-primary fw-bold">ACTS Prayer Method</h3>
                    <p>
                        <strong>ACTS</strong> is a simple pattern to follow when praying ‚Äî helping us cover all parts of our relationship with God.
                    </p>
                    <p>
                        Prayer is much more than asking for things ‚Äî it's a heart-to-heart conversation with God. It includes:
                    </p>
                    <ul>
                        <li>Praising God</li>
                        <li>Confessing our sins</li>
                        <li>Giving thanks</li>
                        <li>Asking for help</li>
                    </ul>

                    <p>
                        God wants to hear from us ‚Äî not because He needs information, but because He desires relationship.
                    </p>

                    <div class="scripture mb-3">
                        <p><strong>üìñ Philippians 4:6</strong> ‚Äî "Do not be anxious about anything, but in every situation, by prayer and petition, with thanksgiving, present your requests to God."</p>
                    </div>

                    <div class="facilitator">
                        <h5>üë• Facilitator Notes:</h5>
                        <ul>
                            <li>Explain that prayer is not just about asking ‚Äî it also includes praise, confession, and thanksgiving.</li>
                            <li>Demonstrate the ACTS prayer pattern with a short example prayer.</li>
                            <li>Emphasize how ACTS keeps our prayers balanced and our relationship with God strong.</li>
                            <li>Encourage learners to write an ACTS prayer during the week to practice it.</li>
                        </ul>
                    </div>

                    <div class="acts-breakdown mt-3">
                        <h5>üìò ACTS Breakdown:</h5>
                        <ul>
                            <li><strong>Adoration:</strong> Praise God for who He is ‚Äî <em>Psalm 95:6</em><br>
                                "Come, let us bow down in worship, let us kneel before the LORD our Maker."</li>
                            <li><strong>Confession:</strong> Admit sin and ask forgiveness ‚Äî <em>1 John 1:9</em><br>
                                "If we confess our sins, He is faithful and just to forgive..."</li>
                            <li><strong>Thanksgiving:</strong> Express gratitude for all things ‚Äî <em>1 Thessalonians 5:18</em></li>
                            <li><strong>Supplication:</strong> Ask God for your needs ‚Äî <em>John 16:24</em></li>
                        </ul>
                    </div>

                    <div class="examples mt-3">
                        <h5>üïäÔ∏è Example Prayers:</h5>
                        <ol>
                            <li>Lord, You are wonderful and kind. I confess my mistakes and ask for forgiveness. Thank You for Your love and blessings. Guide me today and help others in need. Amen.</li>
                            <li>Dear God, You are amazing! I'm sorry for the wrongs I've done. Thank You for my family and all You provide. Help me be kind and caring. Amen.</li>
                        </ol>
                    </div>

                    <div class="reflection mt-3">
                        <h5>üí≠ Learner Reflection:</h5>
                        <ul>
                            <li>Which part of the ACTS method do I practice most easily?</li>
                            <li>What steps can I take to grow in the parts I don't focus on?</li>
                        </ul>
                        <textarea placeholder="Share your reflection..." data-save-key="acts_reflection"></textarea>
                        <div class="auto-save-label">
                            <span class="save-indicator" id="indicator_acts_reflection"></span>
                            Auto-saved
                        </div>
                    </div>

                    <div class="activity mt-3">
                        <h5>‚úçÔ∏è Additional Learner Activities:</h5>
                        <ul>
                            <li>Spend 2 minutes each day dedicated to <strong>Adoration</strong>.</li>
                            <li>Each night, write one sentence of gratitude in a journal.</li>
                            <li>Challenge: Write a full ACTS prayer by week's end.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Prayer Hand Illustration Collapsible -->
            <button class="collapsible">‚úã Prayer Hand Illustration</button>
            <div class="content scrollable">
                <div class="scripture">
                    <p><strong>üìñ Colossians 4:2</strong> ‚Äî "Devote yourselves to prayer, being watchful and thankful."</p>
                </div>

                <h5>üë• Facilitator Notes:</h5>
                <ul>
                    <li>Show your hand and explain each finger's meaning.</li>
                    <li>Lead a time of prayer through each category.</li>
                    <li>Have learners draw or decorate their own "Prayer Hand."</li>
                </ul>

                <div class="hand-guide">
                    <p><strong>1Ô∏è‚É£ Thumb ‚Äî Praise:</strong> Psalm 145:3</p>
                    <p>Thank God for His greatness, holiness, love, and power.</p>

                    <p><strong>2Ô∏è‚É£ Index ‚Äî Confession:</strong> 1 John 1:9</p>
                    <p>Admit sins and ask forgiveness.</p>

                    <p><strong>3Ô∏è‚É£ Middle ‚Äî Intercession:</strong> 1 Timothy 2:1</p>
                    <p>Pray for others ‚Äî family, friends, leaders, and the sick.</p>

                    <p><strong>4Ô∏è‚É£ Ring ‚Äî Petition:</strong> Matthew 7:7</p>
                    <p>Bring your personal needs ‚Äî strength, peace, and wisdom.</p>

                    <p><strong>5Ô∏è‚É£ Pinky ‚Äî Thanksgiving:</strong> 1 Thessalonians 5:18</p>
                    <p>Thank God for all blessings, big and small.</p>

                    <p>üé• <a href="https://youtu.be/2m10fUWF-B8" target="_blank">Watch Video Clip</a></p>
                </div>

                <div class="reflection">
                    <h5>üí≠ Learner Reflection:</h5>
                    <ul>
                        <li>How can the Prayer Hand help you connect more deeply with God?</li>
                        <li>Which finger will you start applying more in prayer this week?</li>
                    </ul>
                    <textarea placeholder="Share your reflection..." data-save-key="prayer_hand_reflection"></textarea>
                    <div class="auto-save-label">
                        <span class="save-indicator" id="indicator_prayer_hand_reflection"></span>
                        Auto-saved
                    </div>
                </div>

                <div class="activity">
                    <h5>üé≠ Activity: Prayer Hand Skit</h5>
                    <p>In groups, act out the five types of prayer (praise, confession, intercession, petition, thanksgiving). Each group demonstrates one type in a 2-minute skit.</p>
                </div>
            </div>

            <!-- Simple Prayer List Collapsible -->
            <button class="collapsible">üóíÔ∏è Simple Prayer List</button>
            <div class="content scrollable">
                <div class="scripture">
                    <p><strong>üìñ Colossians 4:2</strong> ‚Äî "Devote yourselves to prayer, being watchful and thankful."</p>
                </div>

                <h5>üë• Facilitator Notes:</h5>
                <ul>
                    <li>Encourage learners to maintain a prayer list (digital or written).</li>
                    <li>Review answered prayers often to build gratitude.</li>
                    <li>Model a simple two-column "Requests" and "Answers" journal.</li>
                </ul>

                <div class="reflection">
                    <h5>üí≠ Reflection:</h5>
                    <ul>
                        <li>What people or needs will I commit to pray for consistently?</li>
                        <li>How can recording answered prayers strengthen my faith?</li>
                    </ul>
                    <textarea placeholder="Share your prayer list plans..." data-save-key="prayer_list_plans"></textarea>
                    <div class="auto-save-label">
                        <span class="save-indicator" id="indicator_prayer_list_plans"></span>
                        Auto-saved
                    </div>
                </div>
            </div>

            <!-- Praying in the Name of Jesus Collapsible -->
            <button class="collapsible">‚úùÔ∏è Praying in the Name of Jesus</button>
            <div class="content scrollable">
                <div class="scripture">
                    <p><strong>üìñ John 14:13‚Äì14</strong> ‚Äî "And I will do whatever you ask in My name... You may ask Me for anything in My name, and I will do it."</p>
                </div>

                <h5>üë• Facilitator Notes:</h5>
                <ul>
                    <li>Praying in Jesus' name means praying with His authority and access to the Father.</li>
                    <li>It's not a "magic phrase," but a posture of humility, trust, and alignment with God's will.</li>
                    <li>Use a role-play to explain how "authority" works in prayer.</li>
                </ul>

                <h5>üìå Key Points:</h5>
                <ul>
                    <li>Jesus is the way to the Father (<em>John 14:6</em>).</li>
                    <li>When we pray in Jesus' name, we trust His character, submit to His will, and reflect His mission.</li>
                </ul>

                <p><strong>Example Prayer:</strong> "Lord, help me forgive my friend just like You forgave me. In Jesus' name, Amen."</p>

                <div class="reflection">
                    <h5>üí≠ Reflection:</h5>
                    <p>What does praying "in Jesus' name" mean to you personally?</p>
                    <textarea placeholder="Share your understanding..." data-save-key="jesus_name_understanding"></textarea>
                    <div class="auto-save-label">
                        <span class="save-indicator" id="indicator_jesus_name_understanding"></span>
                        Auto-saved
                    </div>
                </div>

                <div class="activity">
                    <h5>üé® Learner Activities:</h5>
                    <ul>
                        <li>"Who is Jesus?" Poster ‚Äî draw or list words that describe Him (Savior, King, Friend, Shepherd, etc.).</li>
                        <li>Role Play: "Right Authority" ‚Äî one child gains access "in the name" of someone else; discuss what it means spiritually.</li>
                    </ul>
                </div>
            </div>

            <!-- How to Spend a Day in Prayer Collapsible -->
            <button class="collapsible">üï∞Ô∏è How to Spend a Day in Prayer</button>
            <div class="content scrollable">
                <div class="scripture">
                    <p><strong>üìñ Luke 5:16</strong> ‚Äî "But Jesus often withdrew to lonely places and prayed."</p>
                </div>

                <h5>üë• Facilitator Notes:</h5>
                <ul>
                    <li>Encourage learners to start small ‚Äî perhaps a few focused hours of prayer.</li>
                    <li>Include time for praise, Bible reading, journaling, and intercession.</li>
                    <li>Remind learners that listening and silence are part of prayer too.</li>
                </ul>

                <h5>üïäÔ∏è Outline for a Prayer Day:</h5>
                <ul>
                    <li><strong>Morning:</strong> Praise & Thanksgiving (<em>Psalm 100:4</em>)</li>
                    <li><strong>Mid-Morning:</strong> Bible Reading & Listening (<em>Psalm 119:18</em>)</li>
                    <li><strong>Afternoon:</strong> Intercession (<em>1 Timothy 2:1‚Äì2</em>)</li>
                    <li><strong>Evening:</strong> Confession, Gratitude & Reflection (<em>Psalm 139:23‚Äì24</em>)</li>
                </ul>

                <div class="reflection">
                    <h5>üí≠ Reflection:</h5>
                    <ul>
                        <li>How would my relationship with God change if I spent extended time with Him?</li>
                        <li>What barriers do I need to overcome to make prayer a lifestyle?</li>
                    </ul>
                    <textarea placeholder="Share your thoughts..." data-save-key="prayer_day_reflection"></textarea>
                    <div class="auto-save-label">
                        <span class="save-indicator" id="indicator_prayer_day_reflection"></span>
                        Auto-saved
                    </div>
                </div>

                <div class="activity">
                    <h5>üìù Additional Activity:</h5>
                    <ul>
                        <li>Plan a 2‚Äì3-hour prayer retreat using 30-minute segments.</li>
                        <li>Keep a journal for verses, prayers, and reflections during your prayer time.</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Topic 2: Fellowship -->
        <div class="topic" id="topic2">
            <div class="topic-completion" id="topic2Completion"></div>
            <h2>Topic 2: Fellowship</h2>
            
            <p>Fellowship is the friendship and spiritual connection we share with other believers as we grow in Jesus together.</p>
            
            <div class="scripture">
                <p><strong>Hebrews 10:24-25</strong> - "Let us not give up meeting together... but encourage one another."</p>
            </div>
            
            <div class="key-point">
                <h4>What is Fellowship?</h4>
                <ul>
                    <li><strong>Fellowship with God</strong> ‚Äì our personal relationship with Him through Jesus</li>
                    <li><strong>Fellowship with others</strong> ‚Äì walking in love, unity, and purpose with fellow believers</li>
                </ul>
            </div>
            
            <div class="collapsible">Importance of Fellowship</div>
            <div class="content scrollable">
                <div class="key-point">
                    <h4>1. We All Grow Together</h4>
                    <p>Just as flowers grow better together in a garden than alone, we can grow in our faith more with others who also love Jesus.</p>
                    <div class="scripture">
                        <p><strong>Proverbs 27:17</strong> - "Iron sharpens iron, so one person sharpens another."</p>
                    </div>
                </div>
                
                <div class="key-point">
                    <h4>2. We Help Each Other</h4>
                    <p>When one friend is sad or struggling, other friends can pray with them, listen to them, and encourage them. We share joy and hard times with each other.</p>
                    <div class="scripture">
                        <p><strong>Galatians 6:2</strong> - "Bear one another's burdens, and so fulfill the law of Christ."</p>
                    </div>
                </div>
                
                <div class="key-point">
                    <h4>3. We Learn From Each Other</h4>
                    <p>
                        We listen to multiple tellings of the Bible stories, sing songs, participate in activities, 
                        and learn how to follow Jesus together. Each time we gather, we share what we've learned, 
                        encourage one another, and grow stronger in our walk with Christ.
                    </p>
                    <div class="scripture">
                        <p><strong>üìñ Colossians 3:16</strong> ‚Äî "Let the word of Christ dwell in you richly in all wisdom, 
                        teaching and admonishing one another in psalms and hymns and spiritual songs, 
                        singing with grace in your hearts to the Lord."</p>
                    </div>
                </div>
                
                <div class="key-point">
                    <h4>4. We Are All One Family</h4>
                    <p>God calls the church His family. We belong to God and we belong to each other.</p>
                    <div class="scripture">
                        <p><strong>1 Corinthians 12:27</strong> - "Now you are the body of Christ, and members individually."</p>
                    </div>
                </div>
                
                <div class="key-point">
                    <h4>5. Jesus Is with Us</h4>
                    <p>Jesus promises that He will be with us when we meet in His name.</p>
                    <div class="scripture">
                        <p><strong>Matthew 18:20</strong> - "For where two or three gather in my name, there am I with them."</p>
                    </div>
                </div>
                
                <div class="activity">
                    <h4>Additional Learner Activity: Fellowship & Reflection</h4>
                    <ol>
                        <li>
                            <strong>Small Group Sharing:</strong>  
                            In small groups, share one story of how Christian friends helped you during a hard or happy time.  
                            <em>Reflect:</em> How did that fellowship remind you of God's love?
                        </li>
                        <li>
                            <strong>Fellowship Chant (Call & Response Style):</strong>
                            <div class="scripture mt-2">
                                <p><strong>Leader:</strong> What's the focus of our fellowship?</p>
                                <p><strong>Learners:</strong> Loving Jesus, walking it out!</p>
                                <p><strong>Leader:</strong> We grow in faith and help one another‚Äî</p>
                                <p><strong>Learners:</strong> Sisters and brothers, loving one another!</p>
                                <p><strong>Leader:</strong> In Church or at the home,</p>
                                <p><strong>Learners:</strong> We show God's love ‚Äî we're part of His family!</p>
                                <p><strong>Leader:</strong> So let's be friends who care and pray ‚Äî</p>
                                <p><strong>Learners:</strong> That's what God wants us to do each day!</p>
                            </div>
                            <p><em>Repeat twice to make it fun and memorable!</em></p>
                        </li>
                    </ol>

                    <div class="key-point mt-3">
                        <h5>Meaning of the Chant:</h5>
                        <ul>
                            <li><strong>"Loving Jesus, living it out!"</strong> ‚Üí Fellowship is all about loving Jesus, and where we love Jesus, we show that love by the way we live.</li>
                            <li><strong>"We grow in faith and help each other"</strong> ‚Üí In fellowship, we learn together, pray together, and encourage each other to draw closer to God.</li>
                            <li><strong>"Sisters and brothers, loving one another!"</strong> ‚Üí As children of God, we are one big spiritual family. We care for one another the way real brothers and sisters in Christ do.</li>
                        </ul>
                    </div>
                </div>
                
                <div class="reflection">
                    <h4>Memory Verse with Actions</h4>
                    <div class="scripture">
                        <p><strong>Acts 2:42 (NIV)</strong> - "They devoted themselves to the apostles' teaching and to fellowship, to the breaking of bread and to prayer."</p>
                    </div>
                    <p><strong>Hand Motions:</strong></p>
                    <ul>
                        <li>"Teaching" (open book gesture)</li>
                        <li>"Fellowship" (link arms)</li>
                        <li>"Breaking bread" (pretend to break bread)</li>
                        <li>"Prayer" (hands together)</li>
                    </ul>
                </div>
            </div>
            
            <div class="collapsible">Characteristics of Biblical Fellowship</div>
            <div class="content scrollable">
                <div class="scripture">
                    <p><strong>John 13:34-35</strong> - "A new commandment I give to you, that you love one another; as I have loved you, that you also love one another. By this all will know that you are My disciples, if you have love for one another."</p>
                </div>
                
                <div class="key-point">
                    <h4>Casual Friendship vs. Spiritual Fellowship</h4>
                    <table class="comparison-table">
                        <tr>
                            <th>Casual Friendship</th>
                            <th>Spiritual Fellowship</th>
                        </tr>
                        <tr>
                            <td>Based on shared interests (games, school, fun)</td>
                            <td>Based on shared faith in Christ</td>
                        </tr>
                        <tr>
                            <td>Focus on fun and laughter</td>
                            <td>Focuses on growth, support, and prayer</td>
                        </tr>
                        <tr>
                            <td>Often surface-level</td>
                            <td>Builds spiritual depth and character</td>
                        </tr>
                        <tr>
                            <td>No prayer, no accountability</td>
                            <td>Includes prayer, Bible encouragement, and care</td>
                        </tr>
                        <tr>
                            <td>Temporary and easily fades</td>
                            <td>Can last a lifetime and deepen over time</td>
                        </tr>
                    </table>
                </div>
                
                <div class="reflection">
                    <h4>Reflection Questions</h4>
                    <p>Do you have friendships that appear to be more of a fellowship? What makes them different?</p>
                    <textarea placeholder="Share your thoughts..."></textarea>
                    <p>Why do you think God wants us to grow in fellowship instead of just friendships?</p>
                    <textarea placeholder="Share your thoughts..."></textarea>
                </div>
                
                <div class="activity">
                    <h4>Activity: Encouragement Message</h4>
                    <p>Write a letter, text, or card encouraging someone in your fellowship group:</p>
                    <textarea placeholder="Write your encouraging message here..." style="width: 100%; min-height: 100px;"></textarea>
                    <button class="btn btn-fellowship" style="margin-top: 10px;">Save Message</button>
                </div>
            </div>
            
            <div class="collapsible">Accountability in Fellowship</div>
            <div class="content scrollable">
                <div class="scripture">
                    <p><strong>Galatians 6:1-2</strong> - "Brothers and sisters, if someone is caught in a sin, you who live by the Spirit should restore that person gently. But watch yourselves, or you also may be tempted. Carry each other's burdens, and in this way, you will fulfill the law of Christ."</p>
                </div>
                
                <div class="key-point">
                    <h4>What is Accountability?</h4>
                    <p>"Accountability means helping each other stay close to God and grow in faith. It means checking in, correcting with love, and encouraging each other when we stumble."</p>
                </div>
                
                <div class="key-point">
                    <h4>Key Principles</h4>
                    <ul>
                        <li><strong>Gentleness:</strong> "Restore that person gently" - never harsh, embarrassing, or forceful</li>
                        <li><strong>Burden-bearing:</strong> Praying with friends who are struggling, listening without gossip, helping make better decisions</li>
                        <li><strong>Humility:</strong> "Watch yourselves" - be careful not to fall into the same sin while helping others</li>
                        <li><strong>Same-Gender Accountability:</strong> Important for creating safe boundaries and avoiding distractions</li>
                    </ul>
                </div>
                
                <div class="activity">
                    <h4>Activity: Accountability Partners</h4>
                    <p>Form accountability pairs or triads (groups of 2-3 learners) within the same gender.</p>
                    <p><strong>Ways to practice:</strong></p>
                    <ul>
                        <li>Choose same-gender partners for prayer and check-ins</li>
                        <li>Check in on each other spiritually - ask how Bible reading is going, share prayer requests</li>
                        <li>Practice respect, confidentiality, and encouraging words</li>
                    </ul>
                </div>
            </div>
            
            <div class="collapsible">Serving Together</div>
            <div class="content scrollable">
                <div class="scripture">
                    <p><strong>1 Peter 4:10 (NKJV)</strong> - "As each one has received a gift, minister it to one another, as good stewards of the manifold grace of God."</p>
                </div>
                
                <div class="key-point">
                    <h4>Why Serve Together?</h4>
                    <ul>
                        <li>Serving is an act of love and obedience - reflecting Christ to others</li>
                        <li>Fellowship includes working side-by-side to bless others</li>
                        <li>Serving deepens friendships and builds unity</li>
                        <li>Everyone has unique gifts to contribute</li>
                    </ul>
                </div>
                
                <div class="activity">
                    <h4>Service Project Ideas</h4>
                    <ul>
                        <li>Visiting the sick or elderly</li>
                        <li>Cleaning the church or helping with Sunday School</li>
                        <li>Collecting food or clothing for needy families</li>
                        <li>Writing thank-you notes for pastors, teachers, or parents</li>
                    </ul>
                </div>
                
                <div class="key-point">
                    <h4>Real Story: The Sandwich Team</h4>
                    <p>In a small church youth group in Nairobi, the idea of community service was born in simple terms. Every Saturday after Bible study, the kids would pool their money to buy bread, peanut butter, and bananas.</p>
                    <p>They made 20 sandwiches, put them in paper bags, and walked right down to a street corner where they knew some children were living begging for food. A little Bible verse was handed out with each sandwich, and the kids prayed with anyone who wanted prayer.</p>
                    <p>Initially, it seemed so small and simple, but gradually, the community took notice. One of the street boys has started coming to church, and another went back to school upon encouragement and assistance offered. The youth group became famous for kindness, and more kids evidenced their commitment to being engaged.</p>
                    <p><strong>üëâ A few sandwiches turned into a big movement for hope!</strong></p>
                </div>
                
                <div class="activity">
                    <h4>Activity: Spiritual Gift Match</h4>
                    <p>List your skills or what you enjoy doing. Discuss how each one can be used to serve others.</p>
                    <textarea placeholder="My skills and interests..."></textarea><br>
                    <button class="btn btn-fellowship" style="margin-top: 10px;">Save My Gifts</button>
                </div>
            </div>
            
            <div class="collapsible">Group Activity: Fellowship Map</div>
            <div class="content scrollable">
                <div class="scripture">
                    <p><strong>Ecclesiastes 4:9-10</strong> - "Two are better than one, because they have a good return for their labor: If either of them falls down, one can help the other up. But pity anyone who falls and has no one to help them up."</p>
                </div>
                
                <div class="fellowship-map-container">
                    <div class="fellowship-map-circle">
                        <div class="fellowship-center">ME</div>
                        <div class="fellowship-category fellowship-mentors">
                            <h5>Mentors</h5>
                            <p>Older or mature believers who guide me</p>
                        </div>
                        <br>
                        <br>
                        <div class="fellowship-category fellowship-peers">
                            <h5>Peers</h5>
                            <p>Christian friends who walk with me in faith</p>
                        </div>
                        <br>
                        <br>
                        <div class="fellowship-category fellowship-mentees">
                            <h5>Mentees</h5>
                            <p>Younger or newer believers I can encourage</p>
                        </div>
                         <br>
                        <br>
                        <div class="fellowship-category fellowship-others">
                            <h5>Others</h5>
                            <p>Additional spiritual relationships</p>
                        </div>
                    </div>
                </div>
                
                <div class="activity">
                    <h4>Create Your Fellowship Map</h4>
                    <p>Draw your own Fellowship Map showing your current spiritual community:</p>
                    <div style="text-align: center; margin: 20px 0;">
                        <div style="width: 300px; height: 300px; border: 2px dashed #ccc; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center;">
                            <span style="color: #999;">Draw your fellowship map here</span>
                        </div>
                    </div>
                    
                    <div class="reflection">
                        <h5>Reflection Questions:</h5>
                        <p>Who encourages me? Who am I encouraging?</p>
                        <textarea placeholder="Share your thoughts..."></textarea>
                        <p>Are there any missing areas in my fellowship map?</p>
                        <textarea placeholder="Share your thoughts..."></textarea>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="lesson-nav">
            <a href="module-lesson1.html" class="btn btn-outline">Previous Lesson</a>
            <a href="index.html" class="btn btn-outline">Back to Main</a>
            <a href="module-lesson3.html" class="btn">Next Lesson</a>
        </div>
    </div>
    
    <!-- Bottom Navigation Bar -->
    <div class="bottom-nav">
        <a href="index.html" class="nav-item">
            <span class="nav-icon">üè†</span>
            <span>Home</span>
        </a>
        <a href="progress.html" class="nav-item">
            <span class="nav-icon">üìä</span>
            <span>Progress</span>
        </a>
        <a href="lessons.html" class="nav-item active">
            <span class="nav-icon">üìö</span>
            <span>Lessons</span>
        </a>
        <a href="prayer.html" class="nav-item">
            <span class="nav-icon">üôè</span>
            <span>Prayer</span>
        </a>
        <a href="profile.html" class="nav-item">
            <span class="nav-icon">üë§</span>
            <span>Profile</span>
        </a>
    </div>
    
    <!-- Sync Status -->
    <div class="sync-status" id="syncStatus">Checking connection...</div>
    
    <!-- Manual Sync Button -->
    <button id="manualSync" title="Sync Progress">
        <i class="bi bi-arrow-repeat"></i>
    </button>
    
    <!-- Auto-save notification -->
    <div class="save-notification" id="saveNotification">
        <i class="bi bi-check-circle"></i> Progress saved
    </div>
    
    <footer>
        <p>Pathlight Discipleship Curriculum &copy; 2023 | KCMC</p>
        <p>Lit to Lead. Rooted to Grow.</p>
    </footer>

    <script>
        // Enhanced Progress tracking and auto-save functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize progress tracking
            const enhancedProgressBar = document.getElementById('enhancedProgressBar');
            const progressText = document.getElementById('progressText');
            const lastSaved = document.getElementById('lastSaved');
            const saveNotification = document.getElementById('saveNotification');
            
            // Get all form fields
            const formFields = document.querySelectorAll('textarea, input[type="text"]');
            
            // Collapsible sections with scrollable content
            const coll = document.getElementsByClassName("collapsible");
            for (let i = 0; i < coll.length; i++) {
                coll[i].addEventListener("click", function() {
                    this.classList.toggle("active");
                    const content = this.nextElementSibling;
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                    }
                });
            }
            
            // Topic completion toggle
            const completionElements = document.querySelectorAll('.topic-completion');
            completionElements.forEach(element => {
                element.addEventListener('click', function() {
                    this.classList.toggle('topic-completed');
                    updateEnhancedProgress();
                    saveProgress();
                });
            });
            
            // Load saved data from localStorage
            loadSavedData();
            
            // Calculate initial progress
            updateEnhancedProgress();
            
            // Add event listeners to all form fields
            formFields.forEach(field => {
                field.addEventListener('input', function() {
                    // Save data to localStorage
                    saveData();
                    
                    // Update progress
                    updateEnhancedProgress();
                    
                    // Show save notification
                    showSaveNotification();
                });
            });
            
            // Function to save data to localStorage
            function saveData() {
                const data = {};
                
                formFields.forEach(field => {
                    const saveKey = field.getAttribute('data-save-key');
                    
                    if (saveKey) {
                        data[saveKey] = field.value;
                    }
                });
                
                localStorage.setItem('lesson2Data', JSON.stringify(data));
                
                // Update last saved time
                const now = new Date();
                lastSaved.textContent = now.toLocaleTimeString();
                localStorage.setItem('lesson2SavedTime', now.toLocaleTimeString());
            }
            
            // Function to load saved data from localStorage
            function loadSavedData() {
                const savedData = localStorage.getItem('lesson2Data');
                
                if (savedData) {
                    const data = JSON.parse(savedData);
                    
                    formFields.forEach(field => {
                        const saveKey = field.getAttribute('data-save-key');
                        
                        if (saveKey && data[saveKey]) {
                            field.value = data[saveKey];
                        }
                    });
                    
                    // Update last saved time
                    const savedTime = localStorage.getItem('lesson2SavedTime');
                    if (savedTime) {
                        lastSaved.textContent = savedTime;
                    }
                }
            }
            
            // Function to update enhanced progress bar
            function updateEnhancedProgress() {
                let completedFields = 0;
                
                formFields.forEach(field => {
                    if (field.value.trim() !== '') {
                        completedFields++;
                    }
                });
                
                const totalFields = formFields.length;
                const progressPercentage = Math.round((completedFields / totalFields) * 100);
                
                enhancedProgressBar.style.width = `${progressPercentage}%`;
                enhancedProgressBar.textContent = `${progressPercentage}%`;
                progressText.textContent = `${progressPercentage}%`;
                
                // Update original progress bar
                updateProgressBar();
                
                // Save progress to localStorage
                localStorage.setItem('lesson2EnhancedProgress', progressPercentage);
            }
            
            // Original progress bar function (preserved)
            function updateProgressBar() {
                const completedTopics = document.querySelectorAll('.topic-completed').length;
                const totalTopics = document.querySelectorAll('.topic-completion').length;
                const progressPercentage = (completedTopics / totalTopics) * 100;
                
                document.getElementById('progressBar').style.width = progressPercentage + '%';
            }
            
            function saveProgress() {
                const topics = [];
                document.querySelectorAll('.topic-completion').forEach((element, index) => {
                    topics.push({
                        id: index,
                        completed: element.classList.contains('topic-completed')
                    });
                });
                
                localStorage.setItem('lesson2Progress', JSON.stringify(topics));
            }
            
            function loadProgress() {
                const savedProgress = localStorage.getItem('lesson2Progress');
                if (savedProgress) {
                    const topics = JSON.parse(savedProgress);
                    topics.forEach(topic => {
                        const element = document.querySelectorAll('.topic-completion')[topic.id];
                        if (element && topic.completed) {
                            element.classList.add('topic-completed');
                        }
                    });
                    updateProgressBar();
                }
            }
            
            // Function to show save notification
            function showSaveNotification() {
                saveNotification.classList.add('show');
                
                setTimeout(() => {
                    saveNotification.classList.remove('show');
                }, 2000);
            }
            
            // Sync status functionality
            function updateSyncStatus() {
                const syncStatus = document.getElementById('syncStatus');
                
                // Simulate checking connection
                setTimeout(() => {
                    if (navigator.onLine) {
                        syncStatus.textContent = 'Online - Synced';
                        syncStatus.className = 'sync-status online';
                    } else {
                        syncStatus.textContent = 'Offline - Changes saved locally';
                        syncStatus.className = 'sync-status offline';
                    }
                }, 1000);
            }
            
            // Manual sync functionality
            document.getElementById('manualSync').addEventListener('click', function() {
                const syncStatus = document.getElementById('syncStatus');
                syncStatus.textContent = 'Syncing...';
                syncStatus.className = 'sync-status syncing';
                
                // Simulate sync process
                setTimeout(() => {
                    syncStatus.textContent = 'Online - Synced';
                    syncStatus.className = 'sync-status online';
                    
                    // Show confirmation
                    const notification = document.getElementById('saveNotification');
                    notification.innerHTML = '<i class="bi bi-cloud-check"></i> Synced to cloud';
                    notification.classList.add('show');
                    
                    setTimeout(() => {
                        notification.classList.remove('show');
                    }, 2000);
                }, 1500);
            });
            
            // Online/offline detection
            window.addEventListener('online', updateSyncStatus);
            window.addEventListener('offline', updateSyncStatus);
            
            // Auto-save every 30 seconds as a backup
            setInterval(saveData, 30000);
            
            // Load saved progress if available
            const savedEnhancedProgress = localStorage.getItem('lesson2EnhancedProgress');
            if (savedEnhancedProgress) {
                enhancedProgressBar.style.width = `${savedEnhancedProgress}%`;
                enhancedProgressBar.textContent = `${savedEnhancedProgress}%`;
                progressText.textContent = `${savedEnhancedProgress}%`;
            }
            
            // Load original progress
            loadProgress();
            
            // Initialize sync status
            updateSyncStatus();
        });
    </script>
    <script type="module" src="auth-check.js"></script>
</body>
</html>